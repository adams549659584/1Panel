import{_ as i}from"./layout-content-27c09564.js";import{_ as m}from"./index-913c5065.js";import{d as u,r as c,j as o,o as d,b as l,h as n,y as _,e as p,O as f,w as h,X as b}from"./index-9eeac04e.js";import{a as g}from"./app-b908b206.js";import{b as v}from"./bus-624744fb.js";/* empty css                    *//* empty css             *//* empty css                    *//* empty css                     *//* empty css              */import"./index-5ffc91ba.js";const w={key:0},I=u({__name:"index",setup(x){let e=c(!1);const a=[{label:o.global.t("app.all"),path:"/apps/all"},{label:o.global.t("app.installed"),path:"/apps/installed"},{label:o.global.t("app.canUpgrade"),path:"/apps/upgrade",count:0}],s=()=>{g({update:!0,page:1,pageSize:100}).then(t=>{t.data.items?a[2].count=t.data.items.length:a[2].count=0}).finally(()=>{e.value=!0})};return d(()=>{s(),v.on("upgrade",()=>{e.value=!1,s()})}),(t,C)=>{const r=b("router-view");return l(),n("div",null,[_(e)?(l(),n("div",w,[p(m,{buttons:a})])):f("",!0),p(i,null,{default:h(()=>[p(r)]),_:1})])}}});export{I as default};
