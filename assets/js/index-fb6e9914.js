import{d as V,r as f,x as E,o as N,l as R,au as k,a2 as B,A as F,a1 as h,m as I,a3 as x,a5 as A,b as _,h as L,Y as U,c as j,w as o,e as a,y as u,g as S,t as b,f as q,$ as T,j as Y}from"./index-609fd921.js";/* empty css                *//* empty css             *//* empty css            *//* empty css              *//* empty css               */import"./form-item-d76e7d20.js";/* empty css               */import{_ as z}from"./layout-content-47227111.js";import{o as G,e as H,f as J,t as K}from"./setting-34057840.js";import{u as O}from"./use-delete-data-3fb8ebbf.js";import{R as g,c as P}from"./form-rules-08616160.js";/* empty css                    *//* empty css             */import"./index-e09fb15b.js";import"./util-bdb43d7e.js";import"./base64-e52cbffd.js";const Q=q("br",null,null,-1),_t=V({__name:"index",setup(W){const i=f(),n=E({monitorStatus:"disable",monitorStoreDays:30}),m=f(),v=async()=>{const e=await H();n.monitorStatus=e.data.monitorStatus,n.monitorStoreDays=Number(e.data.monitorStoreDays)},c=async(e,t,s)=>{if(!e||!await e.validateField(t.replace(t[0],t[0].toLowerCase()),D)||s==="")return;switch(t){case"MonitorStoreDays":s=s+"";break}let r={key:t,value:s+""};i.value=!0,await J(r).then(()=>{i.value=!1,T(Y.global.t("commons.msg.operationSuccess"))}).catch(()=>{i.value=!1})};function D(e){if(e)return e.message}const w=async()=>{await O(K,{},"commons.msg.delete")};return N(()=>{v(),G()}),(e,t)=>{const s=R,p=k,r=B,d=F,y=h,$=I,C=x,M=A;return _(),L("div",null,[U((_(),j(z,{title:e.$t("setting.monitor"),divider:!0},{main:o(()=>[a(C,{model:n,ref_key:"panelFormRef",ref:m,"label-position":"left","label-width":"160px"},{default:o(()=>[a($,null,{default:o(()=>[a(s,{span:1},{default:o(()=>[Q]),_:1}),a(s,{span:10},{default:o(()=>[a(r,{label:e.$t("setting.enableMonitor"),rules:u(g).requiredInput,prop:"monitorStatus"},{default:o(()=>[a(p,{onChange:t[0]||(t[0]=l=>c(m.value,"MonitorStatus",n.monitorStatus)),modelValue:n.monitorStatus,"onUpdate:modelValue":t[1]||(t[1]=l=>n.monitorStatus=l),"active-value":"enable","inactive-value":"disable"},null,8,["modelValue"])]),_:1},8,["label","rules"]),a(r,{label:e.$t("setting.storeDays"),rules:[u(g).integerNumber,u(P)(1,30)],prop:"monitorStoreDays"},{default:o(()=>[a(y,{clearable:"",modelValue:n.monitorStoreDays,"onUpdate:modelValue":t[3]||(t[3]=l=>n.monitorStoreDays=l),modelModifiers:{number:!0}},{append:o(()=>[a(d,{onClick:t[2]||(t[2]=l=>c(m.value,"MonitorStoreDays",n.monitorStoreDays)),icon:"Collection"},{default:o(()=>[S(b(e.$t("commons.button.save")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),a(r,null,{default:o(()=>[a(d,{onClick:t[4]||(t[4]=l=>w()),icon:"Delete"},{default:o(()=>[S(b(e.$t("setting.cleanMonitor")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])),[[M,i.value]])])}}});export{_t as default};
